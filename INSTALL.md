Prool MUD (Virtustan MUD)
http://mud.kharkov.org

**Как запустить свой мад сервер**

1. Свой мад сервер нужен не всем. Может, вы просто хотите поиграть в мад?
Виртустан мад доступен в онлайне по протоколу telnet:

telnet mud.kharkov.org 3000

Или любым мад-клиентом, например JMC или tintin++, надо войти по адресу

#con mud.kharkov.org 3000

Есть и другие мады, их список можно найти здесь - http://www.mudconnector.su/MudList
или здесь http://muds.kharkov.org/muds.html

2. Если все таки вам нужен свой мад сервер, то Виртустан мад это один из лучших выборов,
так как у большинства других мадов (не у всех) код и/или файлы игровых зон закрыты,
а я распространяю код свободно.

3. Далее всё зависит от того, какая у вас операционная система. Для Виндовс проще всего
скачать и запустить уже сделанную мной откомпилированную сборку, которую можно взять
здесь http://files.mud.kharkov.org/virtustan-mud/vmud-windows/

Этот архив надо скачать, распаковать и запустить бат-файл run.bat

Запустится локальный мад-сервер, к которому можно получить доступ из мад-клиента по адресу
localhost 3000 (в зависимости от конфигурации вашей домашней/офисной сети возможно локальный мад
будет доступен и снаружи из Интернета по IP адресу вашей машины. А может и нет)

4. Для ОС Линукс есть "виндовый" подход, а именно уже откомпилированная сборка со статически прилинкованными
библиотеками, которая должна запуститься в любом дистрибутиве:

http://files.mud.kharkov.org/virtustan-mud/proolmud-static.tgz

5. Но более правильный Linux way скачать данный дистрибутив и откомпилировать (собрать) его примерно так

cd src

make

(возможно придется поставить недостающих библиотек, см. ниже)

Потом

cd ..

bin/circle

И запустится локальный сервер

На это пути могут возникнуть подводные камни, так как скорее всего придется устанавливать библиотеки, отсутствующие
в вашем Линуксе. Здесь придется включить моск!

6. Другие ОС (FreeBSD, Android, macOS, MSDOS)

Многие другие ОС похожи на UNIX (например, Android, macOS) и там тоже есть компилятор gcc++ и команда make.
А вот для сборки в среде MSDOS потребуется очень сильное колдунство! Но это тоже возможно, например при помощи
пакета cygwin, который в целом похож на Линукс.

**Автозапуск**

Для автозапуска мада при загрузке компьютера в файл /etc/rc.local надо внести строку

su prool -c ~prool/proolmud/autorun.vmud & > /dev/null

Примечания: полные пути на вашем сервере могут быть другими

**Замечания по сборке**

Ubuntu 18.04 (и следующие)

sudo apt-get install gcc-multilib g++-multilib libz-dev libboost-all-dev

BOOST может понадобиться не из репозиториев ОС, а свежий, с www.boost.org (а может и нет!)

Для сборки в среде Ubuntu 15.10 64 bit надо удалить -lz из Makefile и закомментировать HAVE_ZLIB
в conf.h (вообще, при современных скоростях Интернета сжатие, именно для которого нужна zlib, практически не нужно)

И вот еще такое шаманство может потребоваться, если не найдется файл zconf.h

sudo ln -s /usr/include/x86_64-linux-gnu/zconf.h /usr/include

и флаг -L/usr/lib/x86_64-linux-gnu/libz.a вместо -lz

Ubuntu 20.04 (и следующие)

Кроме всего прочего понадобится

sudo dpkg --add-architecture i386

sudo apt update

sudo apt install libcrypt-dev:i386

---

Если в вашей системе нет кодовой таблицы KOI-8RU (а есть только KOI8-R), то в файле
virtustan.cpp надо найти два вхождения строки KOI-8RU и заменить их на KOI-8R

Кодовая таблица KOI-8RU может быть нужна только, если вы планируете делать свои мад-зоны на украинском
или белорусском языках, где есть символы, отсутствующие в базовом наборе кодировки KOI-8R
(например, украинская буква дигамма).

И еще одно замечание: файлы зоны мада хранятся в кодировке KOI-8 (KOI-8RU), но при подключении к маду можно выбрать
кодировку, установленную на ващем компьютере в вашей ОС и будет производиться перекодировка "на лету". 
На большинстве компьютеров и прочих устройств сейчас обычно стоит UTF-8.

**Как стать имморталом**

Перед началом сборки мада прочитайте комент в начале файла src/privilege.cpp,
там всё написано. А именно, при сборке в среде cygwin первый зарегистрированный персонаж автоматически
получает 34 уровень и все права иммортала. При сборке в других ОС, например основанных на ядре GNU/Linux
придется отредактировать это файл, например заменив в операторе #if слово CYGWIN на 1

Если вы уже собрали мад и зарегистрировали первого персонажа и ничего не меняли в файле privilege.cpp
и ваш персонаж не иммортал, придется вручную отредактировать его файл игрока в каталоге plrs,
поставив уровень 34. И придется отредактировать файл misc/privilege.lst, указав имя и UIN
иммортала (UIN берется в файле игрока)

*Пруль*

http://prool.kharkov.org

http://mud.kharkov.org
